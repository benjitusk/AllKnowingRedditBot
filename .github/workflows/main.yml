name: deploy
on:
  push:
    branches: [ app ]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Rsync Deployments Action
        uses: Burnett01/rsync-deployments@4.1
        with:
          # The switches
          switches:
          # The remote shell argument
          rsh: # optional, default is
          # The local path
          path: /
          # The remote path
          remote_path: ${{secrets.TARGET}}/app
          # The remote host
          remote_host: ${{secrets.REMOTE_HOST}}
          # The remote port
          remote_port: 22
          # The remote user
          remote_user: ${{secrets.REMOTE_USER}}
          # The remote key
          remote_key: ${{secrets.SSH_PRIVATE_KEY}}



      # - name: File deployments
      #   # You may pin to the exact commit or the version.
      #   # uses: 49nord/action-files@fcafc8f5ff59c9d85a333d11e7bf77a0fa0ba931
      #   uses: 49nord/action-files@v1
      #   with:
      #     # The local path that should be uploaded. Should end with a slash.
      #     src: /
      #     # The remote location to sync to, e.g. `user@host:/path/to/dest/`. Should end with a slash.
      #     dest:
      #     # SSH private key to add before attempting any transfer.
      #     ssh_key:
      #     # SSH known hosts file.
      #     known_hosts:
      #     # Arguments passed to `rsync`. The defaults should cover most usecases.
      #     rsync_args: # optional, default is --delete -avz
      #     # Argments passed to `rsyncs` SSH invocation, e.g. to pass a custom port use `-p 12345`.
      #     ssh_args: # optional
      #
      #
      #
      #
      #
      #
      #
      # - uses: actions/checkout@main
      # - name: ssh deploy
      #   uses: easingthemes/ssh-deploy@v2.1.5
      #   with:
      #     SSH_PRIVATE_KEY: ${{secrets.SSH_PRIVATE_KEY}}
      #     REMOTE_HOST: ${{secrets.REMOTE_HOST}}
      #     REMOTE_USER: ${{secrets.REMOTE_USER}}
      #     REMOTE_PORT: 22
      #     TARGET: ${{secrets.TARGET}}/app
